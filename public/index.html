<!DOCTYPE html>
<html>

	<head>

		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="">
		<meta name="author" content="">

		<title>Pilla Google TTS Sample</title>

		<link rel="stylesheet" href="font-awesome/css/font-awesome.min.css">
		<link rel="stylesheet" href="css/jquery.mobile-1.4.5.min.css">
		<script src="js/jquery-1.11.2.min.js"></script>
		<script src="js/jquery.mobile-1.4.5.min.js"></script>
		<script src="app.js"></script>

		<!--
		<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css">
		<script src="http://code.jquery.com/jquery-1.11.2.min.js"></script>
		<script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
		-->

		<script>
			$(document).ready(function() {
				$("#pilla_btn_submit").on("click", function(e){
					speakData = {};
					speakData.language = $("#pilla_sel_lang ");
					speakData.words = "abcd";

					$.ajax( {
						url: '/speak',
						method: 'POST',
						data: $('form#speakForm').serialize(),
						//contentType: "application/json",
						dataType: 'json',
						timeout: 10000})
					.done(function(data) {
						console.log("done callback. data:" + data);})
					.fail(function(jqXHR, textStatus) {
						console.log("fail callback. xhr:" + textStatus);
						console.log(jqXHR);
					});
				});
			});
		</script>

	</head>

	<body>

		<!-- Main page -->
		<div data-role="page" id="mainPage">
			<div data-role="header">
				<h1>Pilla Google TTS</h1>
			</div>

			<div data-role="main" class="ui-content">
				<form method="post" id="speakForm">
					<div class="ui-field-contain">
						<label for="words"> Say something:</label>
						<textarea data-clear-btn-text="true" name="words" id="words" value=""></textarea>
					</div>

					<fieldset id="pilla_sel_lang" data-role="controlgroup">
						<legend>Choose your language:</legend>
						<label for="lang-en">English</label>
						<input type="radio" name="language" id="lang-en" value="en" checked>
						<label for="lang-tw">Chinese</label>
						<input type="radio" name="language" id="lang-tw" value="zh-TW">
					</fieldset>
					<a href="#" id="pilla_btn_submit" class="ui-btn">Submit</a>
				</form>
			</div>
		</div> 

	</body>

</html>
